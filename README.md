# 🌙 Night Mode Minimal MindMap

TDD 기반으로 개발된 나이트모드 최적화 미니멀 마인드맵 애플리케이션

## ✨ 주요 특징

### 🎨 **나이트 모드 최적화**
- 검정, 회색, 흰색 기반 색상 팔레트
- 눈의 피로를 최소화하는 어두운 테마
- 높은 대비율로 가독성 향상

### 🔧 **미니멀 기능**
- **노드 생성**: 원형(○), 사각형(□) - 자동 배치로 겹침 방지
- **연결선**: 실선, 점선 스타일 - 직관적 시각적 토글
- **텍스트 편집**: 더블클릭으로 인라인 편집
- **드래그 & 드롭**: 노드 자유 이동
- **연결 모드**: 노드 간 연결 생성
- **개별 삭제**: 우클릭으로 개별 노드 삭제
- **다중 선택**: Ctrl+클릭 또는 드래그로 복수 선택
- **일괄 작업**: 선택된 노드들 함께 이동/삭제

### ⚡ **성능 최적화**
- `requestAnimationFrame`을 활용한 부드러운 애니메이션
- 연결선 업데이트 최적화
- 메모리 효율적인 DOM 관리

## 🎮 사용법

### 기본 조작
- **○ 버튼**: 원형 노드 추가 (겹치지 않는 위치에 자동 배치)
- **□ 버튼**: 사각형 노드 추가 (겹치지 않는 위치에 자동 배치)
- **⟷ 버튼**: 연결 모드 토글
- **선 아이콘 버튼**: 선 스타일 변경 (실선 ━ / 점선 ┅) - 시각적으로 현재 상태 표시
- **🗑 버튼**: 삭제 모드 토글 (활성화 시 클릭으로 즉시 삭제)
- **× 버튼**: 모든 노드 및 연결 삭제

### 키보드 단축키
- `Ctrl+C`: 원형 노드 추가
- `Ctrl+R`: 사각형 노드 추가
- `Delete/Backspace`: 선택된 요소 삭제
- `Escape`: 연결 모드 해제 또는 선택 해제

### 마우스 조작
- **클릭**: 노드 선택
- **Ctrl+클릭**: 다중 선택 토글
- **더블클릭**: 텍스트 편집
- **우클릭**: 개별 노드 삭제
- **드래그**: 노드 이동 (다중 선택 시 함께 이동)
- **캔버스 드래그**: 영역 선택으로 다중 선택
- **연결 모드에서 클릭**: 노드 간 연결

## 🧪 TDD 테스트

### 테스트 실행
```bash
# 브라우저에서 test-runner.html 열기
open test-runner.html
```

### 테스트 커버리지
- ✅ 기본 초기화 (3/3)
- ✅ 노드 생성 (4/4) - 겹침 방지 테스트 추가
- ✅ 연결 기능 (4/4) - 선 스타일 UI 테스트 추가
- ✅ 나이트 모드 색상 (2/2)
- ✅ 성능 최적화 (2/2)
- ✅ 개별 삭제 토글 (4/4) - 모드 전환, 즉시 삭제, UI 상태 테스트
- ✅ 향상된 다중 선택 (4/4) - 다중 드래그, 삭제 확인, 경계 체크, 시각적 피드백
- ✅ 캔버스 지우기 (1/1)

## 📁 파일 구조

```
mindmap/
├── index.html          # 메인 애플리케이션
├── mindmap.js          # 핵심 로직 (TDD 기반)
├── styles.css          # 나이트 모드 스타일
├── test.spec.js        # TDD 테스트 스펙
├── test-runner.html    # 브라우저 테스트 환경
└── README.md          # 프로젝트 문서
```

## 🚀 기술 스택

- **Vanilla JavaScript**: 의존성 없는 순수 JS
- **SVG**: 벡터 그래픽으로 선명한 렌더링
- **CSS Variables**: 동적 테마 지원
- **TDD**: 테스트 주도 개발

## 🎯 성능 지표

- **노드 생성**: 100개 노드 < 1초
- **연결선 업데이트**: < 50ms
- **메모리 사용량**: 최소화된 DOM 구조
- **렌더링**: 60fps 부드러운 애니메이션

## 🔧 커스터마이징

### 색상 테마 변경
CSS 변수를 수정하여 색상 테마 커스터마이징:

```css
:root {
    --bg-primary: #0a0a0a;      /* 기본 배경 */
    --text-primary: #ffffff;     /* 기본 텍스트 */
    --node-fill: #2a2a2a;       /* 노드 배경 */
    --node-stroke: #666666;     /* 노드 테두리 */
}
```

### 기능 확장
`mindmap.js`의 `MindMap` 클래스를 확장하여 새로운 기능 추가 가능

## 📄 라이선스

MIT License - 자유롭게 사용, 수정, 배포 가능

---

**최적화된 나이트 모드 마인드맵으로 아이디어를 시각화하세요! 🌙✨**